let images=document.querySelectorAll('source, img');if('IntersectionObserver' in window){let config={root:null,rootMargin:'0px',threshold:0.5};let observer=new IntersectionObserver(onChange,config);images.forEach(img=>observer.observe(img));function onChange(changes,observer){changes.forEach(change=>{if(change.intersectionRatio>0){loadImage(change.target);observer.unobserve(change.target)}})}}else{images.forEach(image=>loadImage(image))}
function loadImage(image){image.classList.add('fade-in');if(image.dataset&&image.dataset.src){image.src=image.dataset.src}
if(image.dataset&&image.dataset.srcset){image.srcset=image.dataset.srcset}}
